<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tari si Populatie</title>

    <style type="text/CSS">
        #btnView {
            border: 2px solid green;
            color: green;
            font-family: Arial;
            font-weight: bold;
        }
    </style>

    <script type="text/javascript">

        let date = [

            { "tara": "BG", "an": 2013, "pop": 11137974 },

            { "tara": "BG", "an": 2014, "pop": 11180840 },

            { "tara": "BG", "an": 2015, "pop": 11237274 },

            { "tara": "BG", "an": 2016, "pop": 11311117 },

            { "tara": "BG", "an": 2017, "pop": 11351727 },

            { "tara": "BG", "an": 2018, "pop": 11398589 },

            { "tara": "HU", "an": 2013, "pop": 2971905 },

            { "tara": "HU", "an": 2014, "pop": 2943472 },

            { "tara": "HU", "an": 2015, "pop": 2921262 },

            { "tara": "HU", "an": 2016, "pop": 2888558 },

            { "tara": "HU", "an": 2017, "pop": 2847904 },

            { "tara": "HU", "an": 2018, "pop": 2808901 },

            { "tara": "RO", "an": 2013, "pop": 10487289 },

            { "tara": "RO", "an": 2014, "pop": 10427301 },

            { "tara": "RO", "an": 2015, "pop": 10374822 },

            { "tara": "RO", "an": 2016, "pop": 10341330 },

            { "tara": "RO", "an": 2017, "pop": 10309573 },

            { "tara": "RO", "an": 2018, "pop": 10291027 }

        ];

        document.addEventListener('DOMContentLoaded', () => {
            const btnMax = document.getElementById('btnMax');

            btnMax.addEventListener('click', () => {
                let maxC = date.reduce((max, x) => x.pop > max.pop ? x : max, date[0]);

                const message = `Populatia maxima a fost atinsa in anul ${maxC.an} in tara ${maxC.tara}`;
                const rez = document.getElementById('rez');
                rez.innerHTML = `<p>${message}</p>`
            });

            const btnView = document.getElementById('btnView');

            btnView.addEventListener('click', () => {
                const ul = document.getElementById('list')

                ul.innerHTML = '';

                const an = Number(document.getElementById('anSelect').value);
                const dateAn = date.filter(x => x.an === an)

                dateAn.forEach(x => {
                    const li = document.createElement('li');
                    li.textContent = `${x.tara} - ${x.pop} locuitori`;
                    ul.appendChild(li);
                });
            });
        });
    </script>
</head>
<body>
    <h1>MODEL online.ase.ro Test Multimedia</h1>
    <select name="an" id="anSelect">
        <option value="2013">2013</option>
        <option value="2014">2014</option>
        <option value="2015">2015</option>
        <option value="2016">2016</option>
        <option value="2017">2017</option>
        <option value="2018">2018</option>
    </select>

    <button id="btnMax">Maxim</button>

    <button id="btnView">Vizualizare</button>

    <ul id="list"></ul>

    <div id="rez"></div>
</body>
</html>